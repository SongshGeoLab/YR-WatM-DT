# âœ… å…¨å±€å‚æ•°ç³»ç»Ÿæµ‹è¯•æ¸…å•

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### å‡†å¤‡å·¥ä½œ

```bash
# 1. ç¡®ä¿åç«¯è¿è¡Œ
make api
# è®¿é—® http://127.0.0.1:8000/docs ç¡®è®¤

# 2. å¯åŠ¨å‰ç«¯
cd viz
npm run dev
# è®¿é—®æ˜¾ç¤ºçš„åœ°å€ï¼ˆé€šå¸¸æ˜¯ http://localhost:3000ï¼‰
```

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¡€åŠŸèƒ½æµ‹è¯•

### âœ… Test 1: åº”ç”¨å¯åŠ¨

- [ ] åº”ç”¨æ­£å¸¸åŠ è½½
- [ ] é¡¶éƒ¨æ˜¾ç¤ºæ ‡é¢˜
- [ ] å·¦ä¾§è¾¹æ æ˜¾ç¤º 7 ä¸ªé¡µé¢
- [ ] åº•éƒ¨æ˜¾ç¤º "Parameters" æŒ‰é’®
- [ ] Console æ˜¾ç¤ºï¼š
  ```
  ğŸ”„ Fetching available parameters from backend...
  âœ… Available parameters loaded: {...}
  ```

### âœ… Test 2: å…¨å±€å‚æ•°é¢æ¿

- [ ] ç‚¹å‡» "Parameters" æŒ‰é’®
- [ ] å¼¹å‡ºåŠé€æ˜æµ®åŠ¨é¢æ¿
- [ ] é¢æ¿æ˜¾ç¤º "Current Scenario: sc_xxx"
- [ ] æ‰€æœ‰ 6 ä¸ªå‚æ•°éƒ½æ˜¾ç¤º
- [ ] å¯ä»¥å…³é—­é¢æ¿ï¼ˆç‚¹å‡» X æˆ– "Apply & Close"ï¼‰

### âœ… Test 3: å‚æ•°è°ƒæ•´

**åœ¨ Parameters é¢æ¿ä¸­**:

- [ ] è°ƒæ•´ Climate Scenario æŒ‰é’®
  - Console æ˜¾ç¤º: `ğŸ”§ Updating parameter: climateScenario = ...`
  - é¡¶éƒ¨åœºæ™¯åç§°å˜åŒ–

- [ ] æ‹–åŠ¨ Fertility Rate æ»‘å—
  - Console æ˜¾ç¤º: `ğŸ”§ Updating parameter: fertility = ...`
  - `ğŸ” Resolving scenario...`
  - `âœ… Scenario resolved: sc_xxx`

- [ ] è°ƒæ•´ Diet Pattern
  - åœºæ™¯åç§°ç«‹å³æ›´æ–°

- [ ] ç‚¹å‡» "Reset to Defaults"
  - æ‰€æœ‰å‚æ•°æ¢å¤é»˜è®¤å€¼
  - åœºæ™¯é‡æ–°è§£æ

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šè·¨é¡µé¢è”åŠ¨æµ‹è¯•

### âœ… Test 4: é¡µé¢åˆ‡æ¢å‚æ•°ä¿æŒ

1. [ ] æ‰“å¼€ Parameters é¢æ¿
2. [ ] è®¾ç½®: Fertility = 1.8, Diet = 3
3. [ ] å…³é—­é¢æ¿ï¼Œè®°å½•åœºæ™¯åç§° (å¦‚ sc_1234)
4. [ ] åˆ‡æ¢åˆ° Page 2
5. [ ] å†åˆ‡æ¢å› Page 3
6. [ ] åœºæ™¯åç§°åº”è¯¥è¿˜æ˜¯ sc_1234 âœ…

### âœ… Test 5: å‚æ•°å½±å“æ‰€æœ‰é¡µé¢

**å‡†å¤‡**: æ‰“å¼€ä¸¤ä¸ªæµè§ˆå™¨æ ‡ç­¾é¡µæˆ–ä½¿ç”¨åˆ†å±

1. [ ] æ ‡ç­¾é¡µ A: åœç•™åœ¨ Page 3
2. [ ] æ ‡ç­¾é¡µ B: åœç•™åœ¨ Page 6
3. [ ] åœ¨ä»»æ„æ ‡ç­¾é¡µæ‰“å¼€ Parameters
4. [ ] è°ƒæ•´ Fertility = 1.6
5. [ ] ä¸¤ä¸ªæ ‡ç­¾é¡µçš„åœºæ™¯åç§°éƒ½åº”è¯¥å˜åŒ– âœ…
6. [ ] å›¾è¡¨éƒ½ä¼šæ˜¾ç¤ºåŠ è½½çŠ¶æ€

### âœ… Test 6: å®æ—¶æ•°æ®æ›´æ–°

**ä½¿ç”¨ DemographicsPageWithGlobalParams æµ‹è¯•**:

1. [ ] åœ¨ App.tsx ä¸­ä¸´æ—¶å¯ç”¨æ–°ç‰ˆé¡µé¢:
   ```tsx
   import DemographicsPage from './components/pages/DemographicsPageWithGlobalParams';
   ```

2. [ ] åˆ·æ–°åº”ç”¨ï¼Œè¿›å…¥ Page 3

3. [ ] æ‰“å¼€ Parameters é¢æ¿

4. [ ] è°ƒæ•´ Fertility ä» 1.7 â†’ 1.8
   - Console åº”æ˜¾ç¤º:
     ```
     ğŸ”§ Updating parameter: fertility = 1.8
     ğŸ” Resolving scenario...
     âœ… Scenario resolved: sc_xxx
     ğŸ“Š Fetching total_population for scenario sc_xxx...
     ğŸ“Š Fetching domestic_water_demand_province_sum...
     ğŸ“Š Fetching oa_water_demand_province_sum...
     âœ… Loaded total_population: 377 data points
     âœ… Loaded domestic_water_demand_province_sum: 377 points
     âœ… Loaded oa_water_demand_province_sum: 377 points
     ```

5. [ ] ä¸‰ä¸ªå›¾è¡¨åº”è¯¥å…¨éƒ¨æ›´æ–° âœ…

6. [ ] æ”¹å˜ Diet Pattern 1 â†’ 2 â†’ 3
   - æ¯æ¬¡å˜åŒ–å›¾è¡¨éƒ½ä¼šæ›´æ–°

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ€§èƒ½æµ‹è¯•

### âœ… Test 7: å“åº”é€Ÿåº¦

- [ ] è°ƒæ•´å‚æ•°åˆ°å›¾è¡¨æ›´æ–° < 2 ç§’
- [ ] æ²¡æœ‰å¡é¡¿æˆ–å†»ç»“
- [ ] åŠ è½½çŠ¶æ€æç¤ºæ¸…æ™°

### âœ… Test 8: API è°ƒç”¨ä¼˜åŒ–

**æ‰“å¼€ Network æ ‡ç­¾ (F12)**:

1. [ ] è°ƒæ•´ä¸€ä¸ªå‚æ•°
2. [ ] åº”è¯¥åªçœ‹åˆ°ï¼š
   - 1 æ¬¡ `/resolve_scenario` è°ƒç”¨
   - N æ¬¡ `/series` è°ƒç”¨ï¼ˆN = é¡µé¢ä½¿ç”¨çš„å˜é‡æ•°ï¼‰
3. [ ] ä¸åº”è¯¥æœ‰é‡å¤çš„è¯·æ±‚

### âœ… Test 9: å†…å­˜æ³„æ¼æµ‹è¯•

1. [ ] å¿«é€Ÿåˆ‡æ¢é¡µé¢ 10 æ¬¡
2. [ ] å¿«é€Ÿè°ƒæ•´å‚æ•° 10 æ¬¡
3. [ ] è§‚å¯Ÿ Console æ²¡æœ‰æŠ¥é”™
4. [ ] åº”ç”¨ä»ç„¶æµç•…è¿è¡Œ

---

## ç¬¬å››éƒ¨åˆ†ï¼šè¾¹ç•Œæƒ…å†µæµ‹è¯•

### âœ… Test 10: åç«¯æœªå¯åŠ¨

1. [ ] åœæ­¢åç«¯æœåŠ¡
2. [ ] åˆ·æ–°åº”ç”¨
3. [ ] Console åº”æ˜¾ç¤ºé”™è¯¯ä½†åº”ç”¨ä¸å´©æºƒ
4. [ ] é‡å¯åç«¯ååº”æ¢å¤æ­£å¸¸

### âœ… Test 11: æ— æ•ˆå‚æ•°

1. [ ] æ‰‹åŠ¨åœ¨ Console ä¸­è°ƒç”¨:
   ```javascript
   // å‡è®¾ä½ èƒ½è®¿é—®åˆ° context
   updateParameter('fertility', 999); // æ— æ•ˆå€¼
   ```
2. [ ] åº”ç”¨åº”è¯¥èƒ½å¤„ç†é”™è¯¯

### âœ… Test 12: å¿«é€Ÿè¿ç»­è°ƒæ•´

1. [ ] å¿«é€Ÿæ‹–åŠ¨æ»‘å—å¤šæ¬¡
2. [ ] è§‚å¯Ÿåªæœ‰æœ€ç»ˆå€¼ç”Ÿæ•ˆ
3. [ ] æ²¡æœ‰å¤šä½™çš„ API è°ƒç”¨

---

## ç¬¬äº”éƒ¨åˆ†ï¼šUI/UX æµ‹è¯•

### âœ… Test 13: æš—é»‘æ¨¡å¼

- [ ] åˆ‡æ¢åˆ°æš—é»‘æ¨¡å¼
- [ ] å‚æ•°é¢æ¿æ ·å¼æ­£ç¡®
- [ ] æ‰€æœ‰æ–‡å­—å¯è¯»
- [ ] çŠ¶æ€æ ‡ç­¾é¢œè‰²åˆé€‚

### âœ… Test 14: å“åº”å¼å¸ƒå±€

- [ ] ç¼©å°æµè§ˆå™¨çª—å£
- [ ] å‚æ•°é¢æ¿ä¸è¶…å‡ºå±å¹•
- [ ] æ‰€æœ‰æ§ä»¶å¯ç‚¹å‡»
- [ ] æ»šåŠ¨æ¡æ­£å¸¸å·¥ä½œ

### âœ… Test 15: å¯è®¿é—®æ€§

- [ ] æ‰€æœ‰æŒ‰é’®æœ‰ aria-label
- [ ] Tab é”®å¯ä»¥å¯¼èˆª
- [ ] å·¥å…·æç¤ºæ˜¾ç¤ºæ­£ç¡®

---

## ğŸ“Š æµ‹è¯•ç»“æœè®°å½•

| æµ‹è¯•é¡¹ | ç»“æœ | å¤‡æ³¨ |
|--------|------|------|
| Test 1: åº”ç”¨å¯åŠ¨ | âœ…/âŒ | |
| Test 2: å‚æ•°é¢æ¿ | âœ…/âŒ | |
| Test 3: å‚æ•°è°ƒæ•´ | âœ…/âŒ | |
| Test 4: é¡µé¢åˆ‡æ¢ | âœ…/âŒ | |
| Test 5: è·¨é¡µé¢è”åŠ¨ | âœ…/âŒ | |
| Test 6: å®æ—¶æ›´æ–° | âœ…/âŒ | |
| Test 7: å“åº”é€Ÿåº¦ | âœ…/âŒ | å®é™…è€—æ—¶: ___ ms |
| Test 8: API ä¼˜åŒ– | âœ…/âŒ | è°ƒç”¨æ¬¡æ•°: ___ |
| Test 9: å†…å­˜æ³„æ¼ | âœ…/âŒ | |
| Test 10: å®¹é”™å¤„ç† | âœ…/âŒ | |
| Test 11: è¾¹ç•Œæƒ…å†µ | âœ…/âŒ | |
| Test 12: è¿ç»­æ“ä½œ | âœ…/âŒ | |
| Test 13: æš—é»‘æ¨¡å¼ | âœ…/âŒ | |
| Test 14: å“åº”å¼ | âœ…/âŒ | |
| Test 15: å¯è®¿é—®æ€§ | âœ…/âŒ | |

---

## ğŸ› å‘ç°çš„é—®é¢˜è®°å½•

| é—®é¢˜æè¿° | ä¸¥é‡ç¨‹åº¦ | é‡ç°æ­¥éª¤ | è§£å†³æ–¹æ¡ˆ |
|---------|---------|---------|---------|
| | | | |

---

## âœï¸ æµ‹è¯•äººå‘˜ç­¾å

- **æµ‹è¯•æ—¥æœŸ**: _______________
- **æµ‹è¯•äººå‘˜**: _______________
- **æµè§ˆå™¨ç‰ˆæœ¬**: _______________
- **æµ‹è¯•ç»“æœ**: é€šè¿‡ âœ… / éœ€è¦ä¿®å¤ âŒ

---

## ğŸ“ å¤‡æ³¨

åœ¨è¿™é‡Œè®°å½•ä»»ä½•é¢å¤–çš„è§‚å¯Ÿã€å»ºè®®æˆ–åé¦ˆï¼š

```
[æ‚¨çš„å¤‡æ³¨]
```

---

**æµ‹è¯•æ„‰å¿«ï¼** ğŸ‰
